<!DOCTYPE html>

<html>
    <head>
        <title>Checkout</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
                    #checkoutBOX{
    position: absolute;
    
    background-color: #c7e0e8;
border: 3px solid black;
  height: auto;
	width: 99%;
        margin-left: 5px;
        margin-bottom: 10px;
        margin-top: 15px;
        border-radius: 70px;
        text-align: center;
        font-family: cursive;
        font-size: 30px;
        
}
        </style>
        <script>

function WriteCookie()
{
var now = new Date();
now.setMonth( now.getMonth() + 4 );

name= escape(document.myform.credCard.value)  + ";";
name1= escape(document.myform.expDate.value) + ";";
name2= escape(document.myform.seCode.value) + ";";

document.cookie="Credit Card=" + name;
document.cookie="Expiration Date=" + name1;
document.cookie="Security Code=" + name2;
document.cookie = "expires=" + now.toUTCString() + ";";

document.write ("Thank you for purchasing!");
}

</script>
    </head>
    <body>
        
        <div id="checkoutBOX">
            
        <div id="cartList" class="cartContent">
            <div id="showCart">
                
            </div>
            <div>There are <span id="countCart">X</span> items in your cart</div>
            <div>Total Cart:$<span id="totalAmount"></span></div>
            <button id="emptyCart">Clear Cart</button> <br><br><br><br><br><br>
                       
        </div>
        
        <form name="myform" action="">
            Enter your debit/credit card information: <input type="text" name="credCard" id="credCard"/> <br>

            Expiration date: <input type="text" name="expDate" id="expDate"/> <br>            
 
            Security code: <input type="text" name="seCode" id="secCode"/> <br>
<input type="button" value="Checkout" onclick="regex();"/>
</form>
            
        </div>
        
         <script src="js/shoppingCart.js"></script>
        <script src="js/shoppingCartUsed.js" type="text/javascript"></script>
        <script>
            function regex(){
               var credCard = document.getElementById("credCard");
               var expDate = document.getElementById("expDate");
               var scCode = document.getElementById("secCode");
               
               if (!/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/.test(credCard.value)) {
		alert("Credit Card doesn't meet requirement");
		return;
            }
                
                if (!/^(0[1-9]|1[0-2])\/?([0-9]{4}|[0-9]{2})$/.test(expDate.value)) {
		alert("Expiration Date doesn't meet requirement");
		return;
            }
                
                if (!/^[0-9]{3,4}$/.test(scCode.value)) {
		alert("Security Code doesn't meet requirement");
		return;
                
	
        }
        WriteCookie();
            }
            </script>
    </body>
</html>
